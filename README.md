# gaps - Git information As Plain Source

In the modern world of continuous integration and deployment, the traditional 
approach with using Maven versions turns out to be too inflexible as this version
number is hard coded in the POM.   It is therefore typical to identify the sources by
git commit which is typically only available at build time ,
and that information _also_ needs to be present at runtime to allow
linking back to the corresponding sources.  Hence a mechanism is needed to persist 
the git metadata during the build.

The existing Java tooling typically do this, by extracting the metadata from git during the
when running the build process compiling the sources and put it in a resource file.  This
is usually not available during development as IDE's use their own internal build system.

This project uses another approach inspired by Dagger 2, namely by providing an
annotation processor which at compilation time invokes the
necessary magic to generate a Java class containing constants 
with the necessary metadata, which can then be accessed completely 
without any kind of magic at 
any time in the project for what is necessary, like logging at start
up time.

## Usage

Put the `gaps-processor` artifact on the classpath.

FIXME:  Show maven pom.xml snippet.

For a given class `bar.Foo`, annotate it with `@gaps` to have `bar.FooGaps` automatically
generated by the compiler.   `FooGaps` then provide several constants with git metadata.

This is still on a proof-of-concept state, and feedback is needed to identify what is
actually needed and in what form?  (Should dates be as `Date` or `String`?)



## Helpful links for maintainers:

* <https://cloudogu.com/en/blog/Java-Annotation-Processors_1-Intro>
* <https://github.com/pellaton/spring-configuration-validation-processor>
* <https://www.baeldung.com/java-annotation-processing-builder>
